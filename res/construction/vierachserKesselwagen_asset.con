local transf = require "transf"
local ParamBuilder = require "parambuilder_v1_1"
local constructionutil = require "constructionutil"
local positionx = ParamBuilder.Slider("offsetx", _("offset x-axis"), ParamBuilder.rangeSymm(1,0.01), 1/0.01, _("jrm_param_offsetx_tooltip") )
local model_icons = {
						"ui/models_20/vehicle/waggon/SGP55/kesselTyp50_oelCo@2x.tga",
						"ui/models_20/vehicle/waggon/SGP55/kesselTyp50_tankWagon@2x.tga",
						"ui/models_20/vehicle/waggon/SGP55/kesselTyp50_turmoel60@2x.tga",
						"ui/models_20/vehicle/waggon/SGP55/kesselTyp50_turmoel80@2x.tga",
						"ui/models_20/vehicle/waggon/SGP55/kesselTyp50_turmoelEx@2x.tga",
						"ui/models_20/vehicle/waggon/Uerdingen58/uerdingen58_evaAlt1@2x.tga",
						"ui/models_20/vehicle/waggon/Uerdingen58/uerdingen58_evaAlt2@2x.tga",
						"ui/models_20/vehicle/waggon/Uerdingen58/uerdingen58_evaGrau@2x.tga",
						"ui/models_20/vehicle/waggon/Uerdingen58/uerdingen58_evaGrauShell@2x.tga",
						"ui/models_20/vehicle/waggon/Uerdingen58/uerdingen58_evaSchwarz@2x.tga",
						"ui/models_20/vehicle/waggon/Uerdingen58/uerdingen58_evaSchwarzMobil@2x.tga",
						"ui/models_20/vehicle/waggon/Uerdingen58/uerdingen58_vtg1@2x.tga",
						"ui/models_20/vehicle/waggon/Uerdingen58/uerdingen58_vtg2@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_bp@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_caib@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_degussa@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_ermewa1@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_ermewa2@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_esso@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_esso2@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_eva1@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_eva2@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_eva3@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_eva4@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_eva5@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_eva100@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_evaBP@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_gatx@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_millet@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_milletMarcel@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_mobil@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_onRail@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_onRail2@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_siegwerk@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_simotra1@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_simotra2@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_sogefa@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_sogefaMarathon@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_vtgEx1@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_vtgEx2@2x.tga",
						"ui/models_20/vehicle/waggon/CFMF67/cfmf67_vtgEx3@2x.tga",
						"ui/models_20/vehicle/waggon/WUSiegen72/wuSiegen72_kroll@2x.tga",
						"ui/models_20/vehicle/waggon/WUSiegen72/wuSiegen72_krollShell@2x.tga",
						"ui/models_20/vehicle/waggon/WUSiegen72/wuSiegen72_vtg@2x.tga",
						"ui/models_20/vehicle/waggon/WUSiegen72/wuSiegen72_vtg71@2x.tga",
						"ui/models_20/vehicle/waggon/WUSiegen72/wuSiegen72_vtg80@2x.tga",
						"ui/models_20/vehicle/waggon/WUSiegen72/wuSiegen72_vtg80_grau@2x.tga",
						"ui/models_20/vehicle/waggon/WUSiegen72/wuSiegen72_vtg94@2x.tga",
						"ui/models_20/vehicle/waggon/WUSiegen72/wuSiegen72_vtgAlt@2x.tga",
						"ui/models_20/vehicle/waggon/WUSiegen72/wuSiegen72_vtgBlank@2x.tga",
						"ui/models_20/vehicle/waggon/WUSiegen72/wuSiegen72_vtgTexaco@2x.tga",
						"ui/models_20/vehicle/waggon/WUSiegen72/wuSiegen72_vtgVeba@2x.tga",		
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_asa@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_asa2@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_dr@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_dr2@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_enviloc@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_ermewa@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_ermewa2@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_ermewa3@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_ermewa4@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_gatx@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_gatxAlt@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_gatxBio@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_gatxBlau@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_gatxFazeni@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_kvg@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_kvg2@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_kvg3@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_nacco@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_nacco2@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_ragnSells@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_vtg@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_vtg2@2x.tga",
						"ui/models_20/vehicle/waggon/ZasDR/ZasDR_vtg3@2x.tga",
					}
local model_values = {
						"asset/SGP55/kesselTyp50_oelCo.mdl",
						"asset/SGP55/kesselTyp50_tankWagon.mdl",
						"asset/SGP55/kesselTyp50_turmoel60.mdl",
						"asset/SGP55/kesselTyp50_turmoel80.mdl",
						"asset/SGP55/kesselTyp50_turmoelEx.mdl",
						"asset/Uerdingen58/uerdingen58_evaAlt1.mdl",
						"asset/Uerdingen58/uerdingen58_evaAlt2.mdl",
						"asset/Uerdingen58/uerdingen58_evaGrau.mdl",
						"asset/Uerdingen58/uerdingen58_evaGrauShell.mdl",
						"asset/Uerdingen58/uerdingen58_evaSchwarz.mdl",
						"asset/Uerdingen58/uerdingen58_evaSchwarzMobil.mdl",
						"asset/Uerdingen58/uerdingen58_vtg1.mdl",
						"asset/Uerdingen58/uerdingen58_vtg2.mdl",
						"asset/CFMF67/cfmf67_bp.mdl",
						"asset/CFMF67/cfmf67_caib.mdl",
						"asset/CFMF67/cfmf67_degussa.mdl",
						"asset/CFMF67/cfmf67_ermewa1.mdl",
						"asset/CFMF67/cfmf67_ermewa2.mdl",
						"asset/CFMF67/cfmf67_esso.mdl",
						"asset/CFMF67/cfmf67_esso2.mdl",
						"asset/CFMF67/cfmf67_eva1.mdl",
						"asset/CFMF67/cfmf67_eva2.mdl",
						"asset/CFMF67/cfmf67_eva3.mdl",
						"asset/CFMF67/cfmf67_eva4.mdl",
						"asset/CFMF67/cfmf67_eva5.mdl",
						"asset/CFMF67/cfmf67_eva100.mdl",
						"asset/CFMF67/cfmf67_evaBP.mdl",
						"asset/CFMF67/cfmf67_gatx.mdl",
						"asset/CFMF67/cfmf67_millet.mdl",
						"asset/CFMF67/cfmf67_milletMarcel.mdl",
						"asset/CFMF67/cfmf67_mobil.mdl",
						"asset/CFMF67/cfmf67_onRail.mdl",
						"asset/CFMF67/cfmf67_onRail2.mdl",
						"asset/CFMF67/cfmf67_siegwerk.mdl",
						"asset/CFMF67/cfmf67_simotra1.mdl",
						"asset/CFMF67/cfmf67_simotra2.mdl",
						"asset/CFMF67/cfmf67_sogefa.mdl",
						"asset/CFMF67/cfmf67_sogefaMarathon.mdl",
						"asset/CFMF67/cfmf67_vtgEx1.mdl",
						"asset/CFMF67/cfmf67_vtgEx2.mdl",
						"asset/CFMF67/cfmf67_vtgEx3.mdl",
						"asset/WUSiegen72/wuSiegen72_kroll.mdl",
						"asset/WUSiegen72/wuSiegen72_krollShell.mdl",
						"asset/WUSiegen72/wuSiegen72_vtg.mdl",
						"asset/WUSiegen72/wuSiegen72_vtg71.mdl",
						"asset/WUSiegen72/wuSiegen72_vtg80.mdl",
						"asset/WUSiegen72/wuSiegen72_vtg80_grau.mdl",
						"asset/WUSiegen72/wuSiegen72_vtg94.mdl",
						"asset/WUSiegen72/wuSiegen72_vtgAlt.mdl",
						"asset/WUSiegen72/wuSiegen72_vtgBlank.mdl",
						"asset/WUSiegen72/wuSiegen72_vtgTexaco.mdl",
						"asset/WUSiegen72/wuSiegen72_vtgVeba.mdl",		
						"asset/ZasDR/ZasDR_asa.mdl",
						"asset/ZasDR/ZasDR_asa2.mdl",
						"asset/ZasDR/ZasDR_dr.mdl",
						"asset/ZasDR/ZasDR_dr2.mdl",
						"asset/ZasDR/ZasDR_enviloc.mdl",
						"asset/ZasDR/ZasDR_ermewa.mdl",
						"asset/ZasDR/ZasDR_ermewa2.mdl",
						"asset/ZasDR/ZasDR_ermewa3.mdl",
						"asset/ZasDR/ZasDR_ermewa4.mdl",
						"asset/ZasDR/ZasDR_gatx.mdl",
						"asset/ZasDR/ZasDR_gatxAlt.mdl",
						"asset/ZasDR/ZasDR_gatxBio.mdl",
						"asset/ZasDR/ZasDR_gatxBlau.mdl",
						"asset/ZasDR/ZasDR_gatxFazeni.mdl",
						"asset/ZasDR/ZasDR_kvg.mdl",
						"asset/ZasDR/ZasDR_kvg2.mdl",
						"asset/ZasDR/ZasDR_kvg3.mdl",
						"asset/ZasDR/ZasDR_nacco.mdl",
						"asset/ZasDR/ZasDR_nacco2.mdl",
						"asset/ZasDR/ZasDR_ragnSells.mdl",
						"asset/ZasDR/ZasDR_vtg.mdl",
						"asset/ZasDR/ZasDR_vtg2.mdl",
						"asset/ZasDR/ZasDR_vtg3.mdl",
					}
local assetmodel = ParamBuilder.IconButton("type_param", _("vehicle"), model_icons, model_values, 1, _("jrm_param_type_tooltip") )

function data()

return { 
	type = "ASSET_TRACK",
	description = {
			name = _("mod_name"),
	},
	availability =
	{
			yearFrom = 1955,
			yearTo = 0,
	},
	buildMode = "MULTI",
	categories = { "tracks", "jays_mods" },
	order = -2046867593,
	skipCollision = true,
	autoRemovable = false,
	params = {
		{
			key = "position",
			name = _("height"),
			uiType = "BUTTON",
			values = { _("ground"), _("rail") },
			tooltip = _("height_tooltip"),
			defaultIndex = 1,
		},
		positionx.params,
		assetmodel.params,
	},
	updateFn = function(params)
		local trax = positionx.getValue(params)
		local height = 0
		if params.position == 1 then
			height = 1.05
		end
		
	local result = { }
	result.models = { }

	table.insert(result.models, {
		id = assetmodel.getValue(params),
		transf = constructionutil.rotateTransf(params, { 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, trax, 0, height, 1 }),
	} )	

		result.terrainAlignmentLists = { {
			type = "EQUAL",
			faces =  { }
		} }

		return result
	end		
}

end