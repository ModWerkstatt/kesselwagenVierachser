local transf = require "transf"
local ParamBuilder = require "parambuilder_v1_1"
local constructionutil = require "constructionutil"
local positionx = ParamBuilder.Slider("offsetx", _("offset x-axis"), ParamBuilder.rangeSymm(1,0.01), 1/0.01, _("jrm_param_offsetx_tooltip") )
local model_icons = {
						"ui/models_20/vehicle/waggon/habbis345/habbis345_db@2x.tga",
						"ui/models_20/vehicle/waggon/habbis345/habbis345_dbAlt@2x.tga",
						"ui/models_20/vehicle/waggon/habbis345/habbis345_dbAlt2@2x.tga",
						"ui/models_20/vehicle/waggon/habbis345/habbis345_dbAlu@2x.tga",
						"ui/models_20/vehicle/waggon/habbis345/habbis345_dbCargo@2x.tga",
						"ui/models_20/vehicle/waggon/habbis345/habbis345_dbRot@2x.tga",
						"ui/models_20/vehicle/waggon/habbis345/habbis345_dbYemolke@2x.tga",
						"ui/models_20/vehicle/waggon/habins3/habins3_bmw@2x.tga",
						"ui/models_20/vehicle/waggon/habins3/habins3_cargowaggon@2x.tga",
						"ui/models_20/vehicle/waggon/habins3/habins3_cargowaggonAlt1@2x.tga",
						"ui/models_20/vehicle/waggon/habins3/habins3_cargowaggonAlt2@2x.tga",
						"ui/models_20/vehicle/waggon/habins3/habins3_cargowaggonHalb@2x.tga",
						"ui/models_20/vehicle/waggon/habins3/habins3_gers@2x.tga",
						"ui/models_20/vehicle/waggon/habins3/habins3_gers2@2x.tga",
						"ui/models_20/vehicle/waggon/habins3/habins3_touax@2x.tga",
						"ui/models_20/vehicle/waggon/habisSBB/habisSBB_aproz@2x.tga",
						"ui/models_20/vehicle/waggon/habisSBB/habisSBB_aproz2@2x.tga",
						"ui/models_20/vehicle/waggon/habisSBB/habisSBB_bischof@2x.tga",
						"ui/models_20/vehicle/waggon/habisSBB/habisSBB_sbb@2x.tga",
						"ui/models_20/vehicle/waggon/habisSBB/habisSBB_sbbAlt@2x.tga",
						"ui/models_20/vehicle/waggon/habisSBB/habisSBB_sbbAlt2@2x.tga",
						"ui/models_20/vehicle/waggon/habisSBB/habisSBB_sbbModern@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_aproz@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_ermewa@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_franprix@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_fret@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_fs@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_fsAlt@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_kronenbourg@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_mattoni@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_sbb@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_sbbAlt@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_sbbIso@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_sbbIso2@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_sncf@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_sncf2@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_volg@2x.tga",
						"ui/models_20/vehicle/waggon/habisSNCF/habisSNCF_volvic@2x.tga",
						"ui/models_20/vehicle/waggon/habis1/habis1_db@2x.tga",
						"ui/models_20/vehicle/waggon/habis1/habis1_cw@2x.tga",
						"ui/models_20/vehicle/waggon/habis1/habis1_cwEX@2x.tga",
						"ui/models_20/vehicle/waggon/habis1/habis1_sncb@2x.tga",
						"ui/models_20/vehicle/waggon/habis1/habis1_pimk@2x.tga",
						"ui/models_20/vehicle/waggon/habis2/habis2_railship@2x.tga",
						"ui/models_20/vehicle/waggon/habis2/habis2_twa@2x.tga",
						"ui/models_20/vehicle/waggon/habis2/habis2B_post@2x.tga",
						"ui/models_20/vehicle/waggon/habis2/habis2B_postAlt@2x.tga",
						"ui/models_20/vehicle/waggon/habis2/habis2B_postAlt2@2x.tga",
						"ui/models_20/vehicle/waggon/habis2/habis2B_twa@2x.tga",
						"ui/models_20/vehicle/waggon/habis2/habis2B_twaAlt@2x.tga",
						"ui/models_20/vehicle/waggon/habis6/habis6_db@2x.tga",
						"ui/models_20/vehicle/waggon/habis6/habis6_err@2x.tga",
						"ui/models_20/vehicle/waggon/habis6/habis6_opel@2x.tga",
						"ui/models_20/vehicle/waggon/habis6/habis6_railship@2x.tga",
						"ui/models_20/vehicle/waggon/habis6/habis6_twa@2x.tga",
						"ui/models_20/vehicle/waggon/habis6/habis6_twaAlt@2x.tga",
						"ui/models_20/vehicle/waggon/habis6/habis6_twaGorenje@2x.tga",
						"ui/models_20/vehicle/waggon/habis6/habis6_viessmannAlt@2x.tga",
						"ui/models_20/vehicle/waggon/habis6/habis6_viessmannRot@2x.tga",
						"ui/models_20/vehicle/waggon/habins901/habins901_nw@2x.tga",
						"ui/models_20/vehicle/waggon/habins901/habins901_nw_alt@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_aae@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_aae2@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_chemOil@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_dbAlt@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_dbAlt2@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_dbHalb@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_dsb@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_nord@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_nordB@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_nordBEX@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_oebb@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_panGas@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_sbb@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_sj@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_sjdb@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_twa@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_twaAlt@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_weiss@2x.tga",
						"ui/models_20/vehicle/waggon/habinsAAE/habbinsAAE_weiss2@2x.tga",
						

					}
local model_values = {
						"asset/habbis345/habbis345_db.mdl",
						"asset/habbis345/habbis345_dbAlt.mdl",
						"asset/habbis345/habbis345_dbAlt2.mdl",
						"asset/habbis345/habbis345_dbAlu.mdl",
						"asset/habbis345/habbis345_dbCargo.mdl",
						"asset/habbis345/habbis345_dbRot.mdl",
						"asset/habbis345/habbis345_dbYemolke.mdl",
						"asset/habins3/habins3_bmw.mdl",
						"asset/habins3/habins3_cargowaggon.mdl",
						"asset/habins3/habins3_cargowaggonAlt1.mdl",
						"asset/habins3/habins3_cargowaggonAlt2.mdl",
						"asset/habins3/habins3_cargowaggonHalb.mdl",
						"asset/habins3/habins3_gers.mdl",
						"asset/habins3/habins3_gers2.mdl",
						"asset/habins3/habins3_touax.mdl",
						"asset/habisSBB/habisSBB_aproz.mdl",
						"asset/habisSBB/habisSBB_aproz2.mdl",
						"asset/habisSBB/habisSBB_bischof.mdl",
						"asset/habisSBB/habisSBB_sbb.mdl",
						"asset/habisSBB/habisSBB_sbbAlt.mdl",
						"asset/habisSBB/habisSBB_sbbAlt2.mdl",
						"asset/habisSBB/habisSBB_sbbModern.mdl",
						"asset/habisSNCF/habisSNCF_aproz.mdl",
						"asset/habisSNCF/habisSNCF_ermewa.mdl",
						"asset/habisSNCF/habisSNCF_franprix.mdl",
						"asset/habisSNCF/habisSNCF_fret.mdl",
						"asset/habisSNCF/habisSNCF_fs.mdl",
						"asset/habisSNCF/habisSNCF_fsAlt.mdl",
						"asset/habisSNCF/habisSNCF_kronenbourg.mdl",
						"asset/habisSNCF/habisSNCF_mattoni.mdl",
						"asset/habisSNCF/habisSNCF_sbb.mdl",
						"asset/habisSNCF/habisSNCF_sbbAlt.mdl",
						"asset/habisSNCF/habisSNCF_sbbIso.mdl",
						"asset/habisSNCF/habisSNCF_sbbIso2.mdl",
						"asset/habisSNCF/habisSNCF_sncf.mdl",
						"asset/habisSNCF/habisSNCF_sncf2.mdl",
						"asset/habisSNCF/habisSNCF_volg.mdl",
						"asset/habisSNCF/habisSNCF_volvic.mdl",
						"asset/habis1/habis1_db.mdl",
						"asset/habis1/habis1_cw.mdl",
						"asset/habis1/habis1_cwEX.mdl",
						"asset/habis1/habis1_sncb.mdl",
						"asset/habis1/habis1_pimk.mdl",
						"asset/habis2/habis2_railship.mdl",
						"asset/habis2/habis2_twa.mdl",
						"asset/habis2/habis2B_post.mdl",
						"asset/habis2/habis2B_postAlt.mdl",
						"asset/habis2/habis2B_postAlt2.mdl",
						"asset/habis2/habis2B_twa.mdl",
						"asset/habis2/habis2B_twaAlt.mdl",
						"asset/habis6/habis6_db.mdl",
						"asset/habis6/habis6_err.mdl",
						"asset/habis6/habis6_opel.mdl",
						"asset/habis6/habis6_railship.mdl",
						"asset/habis6/habis6_twa.mdl",
						"asset/habis6/habis6_twaAlt.mdl",
						"asset/habis6/habis6_twaGorenje.mdl",
						"asset/habis6/habis6_viessmannAlt.mdl",
						"asset/habis6/habis6_viessmannRot.mdl",
						"asset/habins901/habins901_nw.mdl",
						"asset/habins901/habins901_nw_alt.mdl",
						"asset/habinsAAE/habbinsAAE_aae.mdl",
						"asset/habinsAAE/habbinsAAE_aae2.mdl",
						"asset/habinsAAE/habbinsAAE_chemOil.mdl",
						"asset/habinsAAE/habbinsAAE_dbAlt.mdl",
						"asset/habinsAAE/habbinsAAE_dbAlt2.mdl",
						"asset/habinsAAE/habbinsAAE_dbHalb.mdl",
						"asset/habinsAAE/habbinsAAE_dsb.mdl",
						"asset/habinsAAE/habbinsAAE_nord.mdl",
						"asset/habinsAAE/habbinsAAE_nordB.mdl",
						"asset/habinsAAE/habbinsAAE_nordBEX.mdl",
						"asset/habinsAAE/habbinsAAE_oebb.mdl",
						"asset/habinsAAE/habbinsAAE_panGas.mdl",
						"asset/habinsAAE/habbinsAAE_sbb.mdl",
						"asset/habinsAAE/habbinsAAE_sj.mdl",
						"asset/habinsAAE/habbinsAAE_sjdb.mdl",
						"asset/habinsAAE/habbinsAAE_twa.mdl",
						"asset/habinsAAE/habbinsAAE_twaAlt.mdl",
						"asset/habinsAAE/habbinsAAE_weiss.mdl",
						"asset/habinsAAE/habbinsAAE_weiss2.mdl",

					}
local assetmodel = ParamBuilder.IconButton("type_param", _("vehicle"), model_icons, model_values, 1, _("jrm_param_type_tooltip") )

function data()

return { 
	type = "ASSET_TRACK",
	description = {
			name = _("mod_name"),
	},
	availability =
	{
			yearFrom = 1973,
			yearTo = 0,
	},
	buildMode = "MULTI",
	categories = { "tracks", "jays_mods" },
	order = -2046867593,
	skipCollision = true,
	autoRemovable = false,
	params = {
		{
			key = "position",
			name = _("height"),
			uiType = "BUTTON",
			values = { _("ground"), _("rail") },
			tooltip = _("height_tooltip"),
			defaultIndex = 1,
		},
		positionx.params,
		assetmodel.params,
	},
	updateFn = function(params)
		local trax = positionx.getValue(params)
		local height = 0
		if params.position == 1 then
			height = 1.05
		end
		
	local result = { }
	result.models = { }

	table.insert(result.models, {
		id = assetmodel.getValue(params),
		transf = constructionutil.rotateTransf(params, { 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, trax, 0, height, 1 }),
	} )	

		result.terrainAlignmentLists = { {
			type = "EQUAL",
			faces =  { }
		} }

		return result
	end		
}

end